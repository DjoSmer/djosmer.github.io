(()=>{"use strict";var t={81:(t,e,n)=>{t.exports=n.p+"fb5a36bfd96eaee4f937.png"},477:(t,e,n)=>{t.exports=n.p+"18ea5ba594d71e50cf10.png"},572:(t,e,n)=>{t.exports=n.p+"04f95e692d24c582c4e2.png"},749:(t,e,n)=>{t.exports=n.p+"f89b3379557426aa50ec.png"},122:(t,e,n)=>{t.exports=n.p+"02c0f0cfa29c6a4f5ccb.png"}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const e=function(){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="handlers")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var n,r,i;return n=e,r=[{key:"on",value:function(t,e){this.addEventListener(t,e)}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.has(t)&&this.handlers[t].forEach((function(t){t.apply(void 0,n)}))}},{key:"addEventListener",value:function(t,e){this.has(t)||(this.handlers[t]=[]),this.handlers[t].push(e)}},{key:"has",value:function(t){return this.handlers.hasOwnProperty(t)}}],r&&t(n.prototype,r),i&&t(n,i),e}();function r(t,e,n){return r=i()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&o(i,n.prototype),i},r.apply(null,arguments)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"root",document.createElement("canvas")),a(this,"context",null),a(this,"border",30),a(this,"width",0),a(this,"height",0),a(this,"mouse",{}),Object.assign(this,{width:e-this.border,height:n-this.border}),Object.assign(this.root,{width:e,height:n}),this.root.addEventListener("mousemove",(function(t){r.mouse={x:t.x,y:t.y}})),document.addEventListener("mousedown",(function(t){r.mouse={x:t.x,y:t.y}})),this.context=this.root.getContext("2d")}var e,n,i;return e=t,i=[{key:"create",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return r(t,n)}}],(n=null)&&s(e.prototype,n),i&&s(e,i),t}();const h=c;function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"canvas",null),this.canvas=e}var e,n,r;return e=t,n=[{key:"update",value:function(t,e){var n=this.canvas;t.forEach((function(t){t.update(l(l({},e),{},{canvas:n}))}))}},{key:"render",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.canvas;t.forEach((function(t){t.draw(l(l({},e),{},{canvas:n}))}))}},{key:"clear",value:function(){var t=this.canvas,e=t.context,n=t.width,r=t.height,i=t.border;e.clearRect(0,0,n+i,r+i)}}],r=[{key:"create",value:function(e){return new t(e)}}],n&&f(e.prototype,n),r&&f(e,r),t}();const d=y;function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P(t);if(e){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return O(t)}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(o,t);var e,n,r,i=m(o);function o(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),A(O(r=i.call(this)),"root",null),A(O(r),"canvas",null),A(O(r),"render",null),A(O(r),"container",[]),A(O(r),"prevTimestamp",0),A(O(r),"frame",0),A(O(r),"auto",1),r.root=t,r.canvas=h.create(e,n),r.render=d.create(r.canvas),r.root.append(r.canvas.root),r.tick(0),r}return e=o,(n=[{key:"add",value:function(t){t.setCanvas&&t.setCanvas(this.canvas),this.container.push(t)}},{key:"tick",value:function(t){var e=this;this.auto&&requestAnimationFrame((function(t){return e.tick(t)}));var n=t-this.prevTimestamp;this.prevTimestamp=t;var r=n/1e3,i=1/r;this.frame++,this.emit("update",{diff:n,secondPart:r,fps:i,frame:this.frame}),this.render.update(this.container,{diff:n,secondPart:r,fps:i,frame:this.frame}),this.render.clear(),this.render.render(this.container)}}])&&b(e.prototype,n),r&&b(e,r),o}(e);const S=k;function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T="top",R="right",E="bottom",_="description",I="move",D="eat",C="dies",L="absorbs",B="dead",Y="noDraw",F="fear",q="party",U="STAND_UP",z=document.getElementById("description");const H=function(){function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;x(this,t),M(this,"x",0),M(this,"y",0),M(this,"r",0),M(this,"color","yellow"),M(this,"boost",1),M(this,"speed",0),M(this,"rotate",360),M(this,"position",E),M(this,"actions",[]),M(this,"canvas",null),Object.assign(this,{x:e,y:n,r,color:i,speed:o});var s=z.getBoundingClientRect();this.description={x:s.left,y:s.top,width:s.width,height:s.height}}var e,n,r;return e=t,(n=[{key:"update",value:function(){var t=this.x,e=this.y,n=this.r,r=this.speed,i=(this.description,this.boost),o=this.position,s=this.canvas,a=r*i;if(!this.checkAction(I))return!1;i>1&&(this.boost-=.01);var c=0,h=0;e+n>=s.height&&t+n<s.width?(o!==E&&(this.position=E),c=a,this.rotate=360):t+n>=s.width&&e>n+s.border?(o!==R&&(this.position=R),h=-a,this.rotate=270):e<=n+s.border&&t>2*n+s.border&&(o!==T&&(this.position=T),c=-a,this.rotate=180),this.x+=c,this.y+=h}},{key:"draw",value:function(){}},{key:"setCanvas",value:function(t){this.canvas=t}},{key:"checkAction",value:function(t){return-1!==this.actions.indexOf(t)}},{key:"pushAction",value:function(t){!this.checkAction(t)&&this.actions.push(t)}},{key:"removeAction",value:function(t){this.actions=this.actions.filter((function(e){return e!==t}))}}])&&j(e.prototype,n),r&&j(e,r),t}();var N=function(t){return Math.PI*t/180},W=n(749),$=n(477),K=n(572),V=n(81);function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e,n){return Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Q(t,e,n||t)}function Z(t,e){return Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nt(t);if(e){var i=nt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return et(this,n)}}function et(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}var rt="SMILE",it="SHOW",ot="HUNTER",st="HUNTER_STOP",at="CLICK_ME",ct="MOUSE_MOVE",ht="MOUSE_CLICK",ut=new Image,lt=new Image,ft=new Image,pt=new Image;ut.src=W,lt.src=$,ft.src=K,pt.src=V;var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(o,t);var e,n,r,i=tt(o);function o(t,e,n){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;G(this,o);var a=46*n;return(r=i.call(this,t,e-a,a,"green",s)).spriteHeadR=ut,r.spriteBodyR=lt,r.spriteHeadL=ft,r.spriteBodyL=pt,r.head={rotate:0,speed:1,mouthOpens:0},r.actions=[],r.flipped=!1,r.eye=!1,r.height=r.y+40-r.r+52,r.scale=n,r.phrases=["ПОНЕСЛАСЬ","Через 5 минут","Ну это-то да, но","Драг Дроп","А мы все там же будем Блоб пилить","Я БОГ","Тебе нравится мой Бэк?","Опять все СЛОМАЛ?!","По факту","Как бы","Получается","По факту как бы получается","Это принцип интернета как бы","Как три байта отослать","Дайка, я не верю, Б**ть","Ну как сказать","Конфрим","Красавчик","На самом деле, там ничего простого. Ой, нечего легкого","Гениально","Ля ты крыса","Минутка пессимизма","Я гениальный чувак","На Фронте работает?","Это совсем немного другое","Это будет наша фишка","Не ганаши","Тебе самому нравится?","Вообще огонь","Очковать никогда не поздно","Два пикселя","Пиши быстрее","По сути даже если это так. Это не так.","Я с тобой согласен, но это не так","Воспитательный срок","Проект сложный","Логично?","Да я просто спросить хотел","Я резко захотел домой","Вот!"],r.phrase="",r.phraseTick=0,r}return e=o,n=[{key:"update",value:function(t){t.secondPart;var e=t.frame,n=this.x,r=this.y,i=this.r,s=this.speed,a=this.head,c=this.position,h=this.description,u=this.canvas;if(this.checkAction(rt)&&a.rotate<5&&(a.rotate+=a.speed),this.checkAction(ot)){var l=45;this.checkAction(D)&&(l=90,a.mouthOpens=0),this.checkAction(st)&&(a.mouthOpens=1),a.mouthOpens?(a.rotate-=a.speed,a.rotate<=0&&(a.mouthOpens=0,a.rotate=0,this.checkAction(st)&&(this.removeAction(st),this.removeAction(ot)))):(a.rotate+=a.speed,a.rotate>=l&&(a.mouthOpens=1,a.rotate=l))}if(this.checkAction(ct)&&u.mouse){var f=u.mouse;f.x-n>5?(this.flipped=!1,this.x+=s):f.x-n<-5&&(this.flipped=!0,this.x-=s);var p=n-f.x,y=r-f.y;return Math.sqrt(p*p+y*y)<=i?a.rotate<15&&(a.rotate+=a.speed):a.rotate>0&&(a.rotate-=a.speed),void(this.checkAction(ht)&&(this.phrase&&(!this.phrase||e%100)||(this.phraseTick>=5?(this.phrase="",this.phraseTick=0,this.removeAction(ht)):(this.phrase=this.phrases[Math.floor(Math.random()*this.phrases.length)],this.phraseTick++))))}if(c===T){if(!this.jump){var d=(h.y-r-u.border*this.scale)/5;this.rotateSpeed=this.rotate/d,this.jump=1}h.y-r-i/2<=u.border*this.scale?(this.rotate=0,this.position=_,this.flipped=!0):n<=h.x+h.width-u.border&&(this.y+=5,0!==this.rotate&&(this.rotate-=this.rotateSpeed))}else c===_&&(this.x-=s);Q(nt(o.prototype),"update",this).call(this,{canvas:u})}},{key:"draw",value:function(t){var e=t.canvas.context,n=this.x,r=this.y,i=this.r,o=this.head,s=this.eye,a=this.flipped,c=this.scale,h=this.spriteHeadR,u=this.spriteBodyR,l=this.spriteHeadL,f=this.spriteBodyL,p=this.rotate;if(this.checkAction(it)){var y=h,d=u,v=y.width*c,b=y.height*c,g=d.height*c,m=-o.rotate,w=n-v/2,O=n-.5-v/2,P=r+6*c-i;if(a&&(y=l,d=f,m=o.rotate,w=n+v/2,O=n+.5-v/2),e.save(),e.translate(n,r),e.rotate(N(p)),e.translate(-n,-r),e.translate(w,r+b-i),e.rotate(N(m)),e.translate(-w,-(r+b-i)),!this.phrase&&this.checkAction(at)){var A=20*c;e.textAlign="center",e.font=A+"px Roboto",e.fillStyle="white",e.fillText("Click Me",n,r-i)}if(s&&(e.beginPath(),e.fillStyle="black",e.arc(n,r,i/1.5,0,Math.PI,!0),e.fill(),e.closePath()),e.drawImage(y,O,P,v,b),e.restore(),e.save(),e.translate(n,r),e.rotate(N(p)),e.translate(-n,-r),e.drawImage(d,n-v/2,r+b-i,v,g),e.restore(),this.phrase){var k=this.phrase,S=16*c;e.fillStyle="white",e.strokeStyle="white";var x=a?n+i+20*c+4*k.length:n-i-30*c-4*k.length,j=r-i;e.beginPath(),a?(e.moveTo(n+i,r-i/2),e.lineTo(x-i/2.2,j-5)):(e.moveTo(n-i,r-i/2),e.lineTo(x+i/2.2,j-5)),e.lineTo(x,j+5),e.fill(),e.closePath(),e.fillStyle="black",e.beginPath(),e.ellipse(x,j,(15+4*k.length)*c,30*c,0,0,2*Math.PI),e.fill(),e.stroke(),e.closePath(),e.textAlign="center",e.font="bold ".concat(S,"px Roboto"),e.fillStyle="white",e.fillText(k,x,j+6*c)}}}}],n&&J(e.prototype,n),r&&J(e,r),o}(H);const dt=yt;function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}var bt=["frame"];function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){wt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ot(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t,e,n){return kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},kt(t,e,n||t)}function St(t,e){return St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},St(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mt(t);if(e){var i=Mt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(t,e){if(e&&("object"===vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(t)}var Tt="party_off",Rt="fall",Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(o,t);var e,n,r,i=xt(o);function o(t,e,n,r){var s,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5?arguments[5]:void 0;Pt(this,o);var h=35*r;return(s=i.call(this,t,e-h,h,n,a)).title=c,s.scaleMain=r,s.scale=1,s.scaleX=1,s.scaleY=1,s.base={x:t,y:e-h,r:h},s.actions=[q],s.angle=0,s.angleAbsorbs=-2.1,s.angleDead=-2.9,s.endAngle=-2.6,s.rotateSpeed=5,s.party={eyeSpeed:.2,eyeSizeL:0,eyeSizeR:0,eyeMoney:null,jumpSpeed:0,jumpStep:1,jumpSpeedBase:(e-h-(s.description.y+s.description.height))/60},s.say="",s.step=0,s.jump=null,s}return e=o,n=[{key:"update",value:function(t){var e=t.frame,n=Ot(t,bt),r=this.x,i=this.y,s=this.r,a=this.position,c=this.description,h=this.party,u=this.canvas;if(!this.checkAction(Y)){if(this.checkAction(q))return this.updateParty(mt(mt({},n),{},{frame:e}));if(kt(Mt(o.prototype),"update",this).call(this,n),a===T){if(!this.jump){var l=(c.y-i-u.border*this.scaleMain)/h.jumpSpeed;this.rotateSpeed=this.rotate/l,this.jump=1}c.y-i-s/2<=u.border*this.scaleMain?(this.rotate=0,0===this.step&&(this.scaleY>.8?this.scaleY-=.01:this.step++),1===this.step&&(this.scaleY>=1?(this.step++,this.scaleY=1,this.position=_):this.scaleY+=.01)):r<=c.x+c.width-u.border&&(this.y+=h.jumpSpeed,0!==this.rotate&&(this.rotate-=this.rotateSpeed))}}}},{key:"updateParty",value:function(t){var e=t.frame,n=this.y,r=this.base,i=this.party,o=this.scaleMain;if(1===i.jumpStep){if(this.checkAction(Tt))return this.scaleY=1,i.jumpStep=0,i.jumpSpeed=5,this.removeAction(q),void(this.base=null);this.scaleY>.8?this.scaleY-=.01:i.jumpStep++}2===i.jumpStep&&(this.scaleY<1.2?this.scaleY+=.02:i.jumpStep++),3===i.jumpStep&&(i.jumpSpeed=4*-Math.random()-8*o,i.jumpStep++),4===i.jumpStep&&(i.jumpSpeed>=0?(i.jumpSpeed=5,i.jumpStep++):(i.jumpSpeed*=.96,i.jumpSpeed+=.01,this.scaleY>1&&(this.scaleY-=.01))),5===i.jumpStep&&(n>=r.y&&(i.jumpSpeed=0,i.jumpStep=1),this.scaleY<1.2&&(this.scaleY+=.02)),e%40==0&&(i.eyeMoney?i.eyeMoney="l"===i.eyeMoney?"r":"l":i.eyeMoney=Math.random()<.5?"l":"r"),i.eyeSizeL+="l"===i.eyeMoney?i.eyeSpeed:-i.eyeSpeed,i.eyeSizeL<0&&(i.eyeSizeL=0),i.eyeSizeR+="r"===i.eyeMoney?i.eyeSpeed:-i.eyeSpeed,i.eyeSizeR<0&&(i.eyeSizeR=0),this.y+=i.jumpSpeed}},{key:"draw",value:function(t){var e=t.canvas.context,n=this.x,r=this.y,i=this.r,o=this.color,s=this.title,a=this.rotate,c=this.scaleMain,h=this.scale,u=this.scaleY,l=this.say,f=this.endAngle;if(!this.checkAction(Y)){var p=i*h,y=p-p*u;if(e.lineWidth=3*c,e.save(),e.translate(n,r),e.rotate(N(a)),e.translate(-n,-r),!this.checkAction(C)&&!this.checkAction(B)){var d=16*c;if(l){e.fillStyle="white",e.strokeStyle="white";var v=n+i+20*c+4*l.length,b=r-i;e.beginPath(),e.moveTo(n+i,r-i/2),e.lineTo(v-i/2.2,b-5),e.lineTo(v,b+5),e.fill(),e.closePath(),e.fillStyle="black",e.beginPath(),e.ellipse(v,b,(15+4*l.length)*c,(12+2*l.length)*c,0,0,2*Math.PI),e.fill(),e.stroke(),e.closePath(),e.textAlign="center",e.font="bold ".concat(d,"px Roboto"),e.fillStyle="white",e.fillText(l,v,b+6*c)}d=18*c,e.textAlign="center",e.font=d+"px Roboto",e.fillStyle="white",e.fillText(s,n,r-i-10+y)}if(e.beginPath(),e.strokeStyle=o,h<=.4)e.arc(n,r,p,0,f,!0),e.fillStyle=o,e.fill();else{e.fillStyle="black",e.ellipse(n,r+y,p,p*u,0,0,2*Math.PI),e.stroke(),e.fill();var g=10*c*h;this.checkAction(C)||this.checkAction(B)?this.drawDead(e,g):this.checkAction(F)?this.drawFear(e,g):this.checkAction(q)?this.drawMoney(e,g,y):this.drawLife(e,g),this.drawMouth(e,y)}e.restore()}}},{key:"drawMouth",value:function(t,e){var n=this.x,r=this.y,i=this.r,o=this.scale,s=o>.5?o:.5;t.beginPath(),t.ellipse(n,r+10+e,i/2.6*s,i/3.8*s,0,0,2*Math.PI),t.stroke()}},{key:"drawLife",value:function(t,e){var n=this.x,r=this.y,i=this.r,o=n-i/2-e/2,s=r-i/2+5;t.beginPath(),t.moveTo(o,s),t.lineTo(o+e,s),t.stroke(),t.beginPath(),t.moveTo(i+o,s),t.lineTo(i+o+e,s),t.stroke()}},{key:"drawMoney",value:function(t,e,n){var r=this.x,i=this.y,o=this.r,s=this.color,a=this.party,c=r-o/2,h=i-o/2+e+n,u=18*this.scaleMain;if(!a.eyeMoney)return this.drawLife(t,e);t.textAlign="center",t.fillStyle=s,t.font=u+a.eyeSizeL+"px serif",t.fillText("$",c,h),t.font=u+a.eyeSizeR+"px serif",t.fillText("$",o+c,h)}},{key:"drawFear",value:function(t){var e=this.x,n=this.y,r=this.r,i=(this.color,e-r/2),o=n-r/2+5;t.beginPath(),t.arc(i,o,r/4,0,2*Math.PI),t.stroke(),t.beginPath(),t.arc(i+r,o,r/4,0,2*Math.PI),t.stroke()}},{key:"drawDead",value:function(t,e){var n=this.x,r=this.y,i=this.r,o=this.color,s=i*(1-this.scale<.2?1-this.scale:.2),a=n-i/2+s-e/2,c=n-i/2-s-e/2,h=r-i/2+s+5;t.beginPath(),t.ellipse(n,r+13,i/3.8*this.scale,i/7*this.scale,0,0,2*Math.PI),t.fillStyle=o,t.fill(),t.beginPath(),t.moveTo(a,h-e/2),t.lineTo(a+e,h+e/2),t.stroke(),t.beginPath(),t.moveTo(a,h+e/2),t.lineTo(a+e,h-e/2),t.stroke(),t.beginPath(),t.moveTo(i+c,h-e/2),t.lineTo(i+c+e,h+e/2),t.stroke(),t.beginPath(),t.moveTo(i+c,h+e/2),t.lineTo(i+c+e,h-e/2),t.stroke()}},{key:"drawEyePassedOut",value:function(t,e,n,r){var i=this.anglePassedOut,o=this.color,s=this.scaleMain,a=0,c=0,h=0;t.save(),t.translate(e,n),t.rotate(r?i:-i),t.translate(-e,-n),t.moveTo(e,n),t.beginPath(),t.lineWidth=1;for(var u=0;u<150*s;u++)c=e+(.5+.5*(a=.1*u))*Math.cos(a),h=n+(.5+.5*a)*Math.sin(a),t.lineTo(c,h);t.strokeStyle=o,t.stroke(),t.closePath(),t.restore()}}],n&&At(e.prototype,n),r&&At(e,r),o}(H);const _t=Et;function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lt(t,e,n){return Lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Lt(t,e,n||t)}function Bt(t,e){return Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Bt(t,e)}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qt(t);if(e){var i=qt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ft(this,n)}}function Ft(t,e){if(e&&("object"===It(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bt(t,e)}(o,t);var e,n,r,i=Yt(o);function o(t,e,n){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Dt(this,o),(r=i.call(this,t,e,"#FFF201",n,s,"CRM")).angleAbsorbs=-2.1,r.angleDead=-2.9,r.endAngle=2*Math.PI,r}return e=o,(n=[{key:"update",value:function(t){var e=this.x,n=this.y,r=this.r,i=this.base;this.checkAction(C)&&(i||(this.base={x:e-r,y:n,r:r+10}),this.scale-=.01,this.scale<=.2&&(this.scale=.2),this.scale<=.4&&(this.angle-=.1,this.x=i.x+Math.cos(this.angle)*i.r,this.y=i.y+Math.sin(this.angle)*this.r,this.endAngle=this.angle<-2.6?Math.PI:2*Math.PI),this.angle<this.angleAbsorbs&&this.pushAction(L),this.angle<=this.angleDead&&this.pushAction(B)),Lt(qt(o.prototype),"update",this).call(this,t)}},{key:"draw",value:function(t){Lt(qt(o.prototype),"draw",this).call(this,t)}}])&&Ct(e.prototype,n),r&&Ct(e,r),o}(_t);const zt=Ut;function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function Nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $t(t,e,n){return $t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},$t(t,e,n||t)}function Kt(t,e){return Kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kt(t,e)}function Vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gt(t);if(e){var i=Gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(t,e){if(e&&("object"===Ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}var Jt="PASSED_OUT",Qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)}(o,t);var e,n,r,i=Vt(o);function o(t,e,n){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Nt(this,o),(r=i.call(this,t,e,"#01B5EF",n,s,"ERP")).rotateMax=245,r.mouthScale=1,r.scaleYSpeed=.002,r.scaleYMax=.2,r.speedSpeed=.95,r.angle=Math.PI/-2,r.angleAbsorbs=-3.67,r.angleDead=-4.47,r.endAngle=2*Math.PI,r.anglePassedOut=0,r}return e=o,(n=[{key:"update",value:function(t){t.frame;var e=this.x,n=this.y,r=this.r,i=this.canvas;this.base,this.scale,this.updateDies(),$t(Gt(o.prototype),"update",this).call(this,t),this.checkAction(Jt)&&(this.anglePassedOut+=.1),0!==this.step||this.checkAction(q)||(n<=i.height/4&&!this.checkAction(Rt)&&(this.removeAction(I),this.pushAction(Rt),this.step++,this.rotateSpeed=4,this.angle=Math.PI/-2,this.base={x:e,y:n,r,angle:this.angle}),n<=i.height/2&&!this.checkAction(Rt)&&(this.removeAction(I),this.rotate>230&&(this.rotate-=this.rotateSpeed),this.speed+=.025,this.y-=this.speed)),this.checkAction(Rt)&&(1===this.step&&(this.angle>-4.7?(this.angle-=.1,this.x=this.base.x+Math.cos(this.angle)*this.r,this.y=this.base.y+r+Math.sin(this.angle)*this.base.r,this.rotate-=this.rotateSpeed):(this.rotateSpeed=5,this.step=5,this.base=null,this.angle=Math.PI/-2,this.pushAction(Jt))),2===this.step&&(this.rotate>=270-(270-this.rotateMax)/2?this.step++:this.rotate+=this.rotateSpeed),3===this.step&&(this.rotateMax-=5,this.step=this.rotate<=225?4:1),4===this.step&&(this.rotate-=5,this.y-=this.speed/2,this.step=this.rotate<=180?5:4))}},{key:"updateDies",value:function(){var t=this.x,e=this.y,n=this.r,r=this.base;this.checkAction(C)&&(r||(this.base={x:t,y:e,r:n+10}),this.scale-=.01,this.scale<=.2&&(this.scale=.2),this.scale<=.4&&(this.angle-=.2,this.x=r.x+Math.cos(this.angle)*this.r,this.y=r.y+n+Math.sin(this.angle)*r.r,this.endAngle=this.angle<-4.17?Math.PI:2*Math.PI),this.angle<this.angleAbsorbs&&this.pushAction(L),this.angle<=this.angleDead&&this.pushAction(B))}},{key:"drawLife",value:function(t,e){if(this.checkAction(Jt)){var n=this.x,r=this.y,i=this.r,s=n-i/2,a=r-i/2+5;this.drawEyePassedOut(t,s,a,1),this.drawEyePassedOut(t,s+i,a,0)}else $t(Gt(o.prototype),"drawLife",this).call(this,t,e)}}])&&Wt(e.prototype,n),r&&Wt(e,r),o}(_t);const Zt=Qt;function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function re(t,e,n){return re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ae(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},re(t,e,n||t)}function ie(t,e){return ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ie(t,e)}function oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ae(t);if(e){var i=ae(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return se(this,n)}}function se(t,e){if(e&&("object"===te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ae(t)}var ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(o,t);var e,n,r,i=oe(o);function o(t,e,n){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return ee(this,o),(r=i.call(this,t,e,"#E51C20",n,s,"BMP")).angleAbsorbs=1.04,r.angleDead=.24,r.endAngle=2*Math.PI,r}return e=o,(n=[{key:"update",value:function(t){var e=this.x,n=(this.y,this.speed),r=this.description,i=this.canvas;this.updateDies(),re(ae(o.prototype),"update",this).call(this,t),2===this.step&&this.checkAction(F)&&(this.say="",this.x-=1.5*n,this.boost=(r.x+r.width/2-e)/(2.5*n),this.rotateSpeed=90/this.boost),3===this.step&&(this.say="",this.x+=2.5*n,this.rotate+=this.rotateSpeed,this.rotate>=90&&(this.step++,this.step++,this.rotateSpeed=5)),5===this.step&&(this.rotate-=.5,this.rotate<=0&&this.step++),6===this.step&&(this.x-=.5*n,e-r.x<=i.border&&this.step++),7===this.step&&this.rotate>-25&&(this.rotate-=this.rotateSpeed),8===this.step&&(this.rotate<0?this.rotate+=this.rotateSpeed:(this.pushAction(F),this.step++)),9===this.step&&(this.x-=.05*n),this.step>0&&(this.say="")}},{key:"updateDies",value:function(){var t=this.x,e=this.y,n=this.r,r=this.base;this.checkAction(C)&&(r||(this.base={x:t+n,y:e,r:n+10},this.angle=-Math.PI,this.angleAbsorbs/=-1,this.angleDead/=-1),this.scale-=.01,this.scale<=.2&&(this.scale=.2),this.scale<=.4&&(this.angle+=.1,this.x=r.x+Math.cos(this.angle)*r.r,this.y=r.y+Math.sin(this.angle)*this.r,this.endAngle=this.angle>.56?Math.PI:2*Math.PI),this.angle>this.angleAbsorbs&&this.pushAction(L),this.angle>=this.angleDead&&this.pushAction(B))}},{key:"draw",value:function(t){this.x,this.y,this.r,this.color,this.text,this.rotate,this.scale,this.action,re(ae(o.prototype),"draw",this).call(this,t)}}])&&ne(e.prototype,n),r&&ne(e,r),o}(_t);const he=ce;function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pe(t,e,n){return pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=be(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},pe(t,e,n||t)}function ye(t,e){return ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ye(t,e)}function de(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=be(t);if(e){var i=be(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(t,e){if(e&&("object"===ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function be(t){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},be(t)}var ge="ACTION_PASSED_OUT",me="PAIN",we=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ye(t,e)}(o,t);var e,n,r,i=de(o);function o(t,e,n){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return le(this,o),(r=i.call(this,t,e,"#FE9801",n,s,"E-Com")).frame=0,r.anglePassedOut=0,r}return e=o,(n=[{key:"update",value:function(t){var e=this.x,n=this.y,r=this.r,i=this.speed,s=this.description,a=this.canvas;this.checkAction(ge)&&(this.anglePassedOut+=.1),2===this.step&&(this.x-=i,e-s.x<=a.border&&this.step++),3===this.step&&this.rotate>-25&&(this.rotate-=this.rotateSpeed),4===this.step&&(this.x-=2.5*i,s.x-e>=2*r&&(this.step++,this.pushAction(F),this.removeAction(I),this.say="SHIT")),5===this.step&&(this.rotate>-90&&(this.rotate-=this.rotateSpeed*this.scaleMain),this.y+=5,n+r>=a.height&&this.step++),6===this.step&&(this.pushAction(ge),this.removeAction(F),this.say="",this.step++),this.checkAction(U)&&(this.removeAction(ge),this.pushAction(me),this.rotate+=this.rotateSpeed*this.scaleMain/2,this.rotate>35&&(this.step=9,this.removeAction(U))),9!==this.step||this.checkAction(C)||(this.x+=.2*this.speed,this.frame++,this.frame>20&&(this.step++,this.frame=0)),10===this.step&&(this.frame++,this.frame>40&&(this.step=9,this.frame=0)),this.updateDies(t),pe(be(o.prototype),"update",this).call(this,t)}},{key:"updateDies",value:function(t){var e=this.x,n=this.y,r=this.r,i=this.base;this.checkAction(C)&&(i||(this.base={x:e-r,y:n,r:r+10}),this.scale-=.01,this.scale<=.2&&(this.scale=.2),this.scale<=.4&&(this.angle-=.1,this.x=i.x+Math.cos(this.angle)*i.r,this.y=i.y+Math.sin(this.angle)*this.r,this.endAngle=this.angle<-2.6?Math.PI:2*Math.PI),this.angle<this.angleAbsorbs&&this.pushAction(L),this.angle<=this.angleDead&&this.pushAction(B))}},{key:"drawLife",value:function(t,e){if(this.checkAction(me))this.drawEyePain(t,e);else{if(this.checkAction(ge)){var n=this.x,r=this.y,i=this.r,s=n-i/2,a=r-i/2+5;return this.drawEyePassedOut(t,s,a,1),void this.drawEyePassedOut(t,s+i,a,0)}pe(be(o.prototype),"drawLife",this).call(this,t,e)}}},{key:"drawEyePain",value:function(t,e){var n=this.x,r=this.y,i=this.r,o=this.color,s=n-i/2,a=r-i/2+5;t.beginPath(),t.moveTo(s-e/2,a+5),t.lineTo(s+e,a),t.lineTo(s-e/2,a-10),t.strokeStyle=o,t.stroke(),t.closePath(),t.beginPath(),t.moveTo(s+i+e/2,a+5),t.lineTo(s+i-e,a),t.lineTo(s+i+e/2,a-10),t.strokeStyle=o,t.stroke(),t.closePath()}}])&&fe(e.prototype,n),r&&fe(e,r),o}(_t);const Oe=we;var Pe=n(122);function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ke="elevatorUp",Se="elevatorDown",xe="elevatorReady",je="doorOpen",Me="doorOpened",Te="doorClose",Re="doorClosed",Ee=new Image;Ee.src=Pe;var _e=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scale=e.scale;var r=1===this.scale?20:5;this.start=e.y+40*this.scale-e.r+52*this.scale,this.x=e.x,this.y=e.y-2*e.r,this.r=e.r+r,this.color="#FFFFFF",this.height=this.start-(e.y-2*e.r),this.y=this.start+this.height,this.arrowAngle=-Math.PI/2,this.step=1,this.speed=.5,this.speedUp=4*this.speed,this.speedArrow=Math.floor(Math.PI/2/(this.height/this.speedUp*2)*1e4)/1e4,this.doorOffset=0,this.action=null,this.canvas=n,this.predatorShow=!0}var e,n,r;return e=t,n=[{key:"update",value:function(t){t.diff;var e=this.height;this.action===ke?(this.y-=this.speedUp,this.arrowAngle+=this.speedArrow,this.step++,this.y<=this.start-e&&(this.action=xe)):this.action===Se?(this.y+=this.speedUp,this.arrowAngle-=this.speedArrow,this.step++,this.y>=this.start+e&&(this.action=xe)):this.action===je?(this.doorOffset+=this.speed,this.doorOffset>=59&&(this.action=Me)):this.action===Te&&(this.doorOffset-=this.speed,this.doorOffset<=0&&(this.action=Re))}},{key:"draw",value:function(t){var e=t.canvas,n=this.x,r=this.y,i=this.r,o=this.color,s=this.doorOffset,a=this.arrowAngle,c=this.height,h=this.predatorShow,u=this.action,l=this.scale,f=e.context;if(u!==Y){var p=n-i+1,y=n+s,d=i-s,v=i-(y-n)-1;if(f.lineWidth=2,f.strokeStyle=o,f.fillStyle=o,f.beginPath(),f.strokeRect(n-i,r,2*i,c),f.fillRect(n-i,r,2*i,c),f.closePath(),h){var b=Ee.width*l,g=Ee.height*l;f.drawImage(Ee,n-b/2,r+g/2+6,b,g)}f.fillStyle="black",f.beginPath(),f.fillRect(p,r,d,c),f.closePath(),f.beginPath(),f.fillRect(y,r,v,c),f.closePath(),f.fillStyle=o,f.beginPath(),f.arc(n,r,i,0,Math.PI,!0),f.stroke(),f.beginPath(),f.arc(n,r-4,12*l,0,Math.PI,!0),f.fill(),f.save(),f.translate(n,r-5),f.rotate(a),f.translate(-n,-(r+5)),f.beginPath(),f.moveTo(n,r),f.lineTo(n,r-i/5),f.stroke(),f.beginPath(),f.moveTo(n-5,r-i/5),f.lineTo(n,r-i/3),f.lineTo(n+5,r-i/5),f.fill(),f.restore();var m=15*l,w="TIME TO PLAY",O=Math.PI/w.length;f.save(),f.translate(n,r-8*l),f.rotate(-Math.PI/2);for(var P=0;P<w.length;P++)f.save(),f.rotate(P*O),f.font=m+"px Roboto",f.fillText(w[P],0,-i/1.8),f.restore();f.restore(),f.beginPath(),f.fillStyle="black",f.fillRect(n-i-10,this.start,2*i+20,2.5*this.height),f.closePath()}}}],n&&Ae(e.prototype,n),r&&Ae(e,r),t}();const Ie=_e;var De=window,Ce=De.innerWidth,Le=De.innerHeight,Be=new S(document.body,Ce,Le),Ye=Be.canvas.width/2,Fe=Be.canvas.width/6,qe=Fe/2,Ue=Be.canvas.width>1200?1:.5,ze=3*Ue;Be.canvas.width<610&&document.querySelectorAll("#description span").forEach((function(t,e){1!==e&&t.after(document.createElement("br"))}));var He=new dt(Math.floor(Ye-qe-2*Fe)+5,Be.canvas.height,Ue,0),Ne=new Ie(He,Be.canvas),We=new zt(Ye-qe-Fe+20,Be.canvas.height,Ue,ze),$e=new Zt(Ye-qe+20,Be.canvas.height,Ue,ze),Ke=new he(Ye+qe+40,Be.canvas.height,Ue,ze),Ve=new Oe(Ye+qe+Fe+40,Be.canvas.height,Ue,ze),Xe=[We,$e,Ke,Ve],Ge=1;Be.add(Ne),Xe.forEach((function(t){return Be.add(t)})),Be.add(He);var Je=0,Qe=0,Ze=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;Qe+=16,0===Je?Ne.action===xe&&Qe>500?(Ne.action=je,He.eye=!1):!Ne.action&&Qe>e?(Ne.action=ke,Qe=0):Ne.action===Me&&(Ne.predatorShow?(Ne.predatorShow=!1,He.pushAction(it)):(Ne.predatorShow=!0,He.removeAction(it)),Qe=0,Je++):1===Je&&(Ne.action===Me?Ne.action=Te:Ne.action===Re?(Qe=0,Ne.action=null):!Ne.action&&Qe>500?(Ne.action=Se,He.eye=!0):Ne.action===xe&&(Ne.action=Y,Qe=0,Je=0,t()))},tn=0,en=0,nn=1;Be.on("update",(function(t){var e=t.frame;!function(){var t=He.x-We.x,e=Math.sqrt(t*t+0);if(1===Ge&&Ze((function(){Xe.forEach((function(t){t.pushAction(Tt),He.pushAction(I)})),e>We.r+1.2*He.r&&(He.speed=.5*ze),"?",Ge++})),2===Ge){if(He.checkAction(it)){var n=!0;Xe.forEach((function(t){t.checkAction(q)&&(n=!1)})),We.say||(We.say="?"),n&&Ge++}e<We.r+1.19*He.r&&(He.speed=0)}}(),function(){if(3===Ge){var t=He.x-We.x;Math.sqrt(t*t+0)<We.r+1.19*He.r&&!He.checkAction(rt)&&(He.speed=0,He.pushAction(rt),setTimeout((function(){He.pushAction(ot),He.removeAction(rt)}),1e3)),He.head.rotate>1&&!We.checkAction(F)&&He.checkAction(ot)&&Ge++}}(),function(t){if(t.frame,4===Ge){var e=He.x-We.x,n=Math.sqrt(e*e+0);We.checkAction(B)?(We.pushAction(Y),Xe.splice(0,1),Ge++):We.checkAction(L)?He.removeAction(D):n<We.r+1.2*He.r&&!He.checkAction(D)?(He.pushAction(D),We.removeAction(I),He.speed=0):He.checkAction(D)&&We.pushAction(C)}}({frame:e}),5===Ge&&(en++,Xe.forEach((function(t){if(t.position===R&&t.checkAction(F))return t.removeAction(F),void(t.say="");He.head.rotate<=0&&!t.checkAction(I)?(t.pushAction(I),t.speed=0,en=0):en>80&&t.checkAction(F)&&!t.speed?(t.speed=1.5*ze,t.boost=2.5,tn++):en>40&&t.checkAction(I)&&!t.speed&&(t.pushAction(F),Be.canvas.width>400&&(t.say="SHIT"))})),$e.checkAction(F)&&($e.say="SHIT"),en>110&&3===tn&&(He.speed=1.5*ze,He.boost=1.5),Ve.position===R&&(Ve.speed=1.7*ze),Ke.position===R&&(Ke.speed=1.6*ze),$e.position===R&&($e.speed=1.5*ze,Ge++)),function(t){var e=t.frame;if(!(Ge<6||Ge>8)){var n=He.x-$e.x,r=He.y-$e.y,i=Math.sqrt(n*n+r*r);$e.checkAction(Y)||($e.checkAction(B)?(He.speed=ze,He.boost=1.2,$e.pushAction(Y),Xe.splice(0,1)):$e.checkAction(L)?(He.removeAction(D),He.speed=ze/2):i<$e.r+1.2*He.r&&!He.checkAction(D)?(He.pushAction(D),$e.removeAction(Rt),$e.step++,$e.speed=0,He.speed=0):He.checkAction(D)&&!$e.pushAction(C)&&e%50==0&&6===Ge&&(Ke.pushAction(F),$e.pushAction(C),Ge++))}}({frame:e}),function(){if(7===Ge){var t=Ke.x-Ve.x,e=Ke.y-Ve.y;Math.sqrt(t*t+e*e)<=2*Ke.r&&(Ke.step++,Ve.step++,Ge++)}}(),function(){if(8===Ge){var t=He.x-Ke.x,e=He.y-Ke.y,n=Math.sqrt(t*t+e*e);Ke.checkAction(B)?(He.speed=0,He.pushAction(st),Ke.pushAction(Y),Xe.splice(0,1),Ge++):Ke.checkAction(L)?(He.removeAction(D),He.speed=ze/2,Ve.pushAction(U)):n<Ke.r+5*He.r&&7===Ke.step?Ke.step++:n<Ke.r+1.2*He.r&&!He.checkAction(D)&&(He.pushAction(D),Ke.pushAction(C),Ke.speed=0,He.speed=0)}}(),9===Ge?1===nn?(nn++,setTimeout((function(){nn++,He.phrase="Time to play"}),1e3)):3===nn&&(nn++,setTimeout((function(){(Ne=new Ie(He,Be.canvas)).predatorShow=!1,Be.container[0]=Ne,Ge++,setTimeout((function(){He.phrase=""}),500)}),500)):10===Ge?Ze((function(){Ge++,He.flipped=!1}),250):11===Ge?(He.x=Math.floor(Ye-qe-2*Fe)+5,He.y=Be.canvas.height-He.r,Ne=new Ie(He,Be.canvas),Be.container[0]=Ne,Ge++):12===Ge&&Ze((function(){He.pushAction(ot),He.speed=ze,Ge++}),100),function(){if(13===Ge){var t=He.x-Ve.x,e=He.y-Ve.y,n=Math.sqrt(t*t+e*e);Ve.checkAction(C)&&Ve.checkAction(B)?(He.speed=ze,He.pushAction(at),He.pushAction(st),He.removeAction(I),Ve.pushAction(Y),Ge++):Ve.checkAction(L)?(He.removeAction(D),He.speed=ze/2):n<Ve.r+1.3*He.r&&!He.checkAction(D)&&(He.pushAction(D),Ve.pushAction(C),Ve.removeAction(B),He.speed=0)}}(),14===Ge&&(He.checkAction(ot)||(He.pushAction(ct),document.querySelector(".coming-soon").classList.add("active"),Ge++)),function(){if(Be.canvas.mouse.x){var t=He.x-Be.canvas.mouse.x,e=He.y-Be.canvas.mouse.y;Math.sqrt(t*t+e*e)<=He.r?Be.canvas.root.style.cursor="pointer":Be.canvas.root.style.cursor&&(Be.canvas.root.style.cursor=null)}}()})),Be.canvas.root.addEventListener("mousedown",(function(t){if(!He.checkAction(ot)||!He.checkAction(at)){var e=He.x-t.x,n=He.y-t.y;Math.sqrt(e*e+n*n)<=He.r&&He.pushAction(ht)}})),window.addEventListener("resize",(function(){window.location.reload()}))})()})();